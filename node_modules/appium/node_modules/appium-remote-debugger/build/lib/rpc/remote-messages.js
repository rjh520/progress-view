"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.RemoteMessages = void 0;

require("source-map-support/register");

var _lodash = _interopRequireDefault(require("lodash"));

class RemoteMessages {
  constructor(isTargetBased = false) {
    this.isTargetBased = isTargetBased;
  }

  set isTargetBased(isTargetBased) {
    this._isTargetBased = isTargetBased;
  }

  get isTargetBased() {
    return this._isTargetBased;
  }

  setConnectionKey(opts = {}) {
    const {
      connId
    } = opts;
    return {
      __argument: {
        WIRConnectionIdentifierKey: connId
      },
      __selector: '_rpc_reportIdentifier:'
    };
  }

  connectToApp(opts = {}) {
    const {
      connId,
      appIdKey
    } = opts;
    return {
      __argument: {
        WIRConnectionIdentifierKey: connId,
        WIRApplicationIdentifierKey: appIdKey
      },
      __selector: '_rpc_forwardGetListing:'
    };
  }

  setSenderKey(opts = {}) {
    const {
      connId,
      senderId,
      appIdKey,
      pageIdKey
    } = opts;
    return {
      __argument: {
        WIRApplicationIdentifierKey: appIdKey,
        WIRConnectionIdentifierKey: connId,
        WIRSenderKey: senderId,
        WIRPageIdentifierKey: pageIdKey,
        WIRAutomaticallyPause: false
      },
      __selector: '_rpc_forwardSocketSetup:'
    };
  }

  indicateWebView(opts = {}) {
    const {
      connId,
      appIdKey,
      pageIdKey,
      enabled
    } = opts;
    return {
      __argument: {
        WIRApplicationIdentifierKey: appIdKey,
        WIRIndicateEnabledKey: _lodash.default.isNil(enabled) ? true : enabled,
        WIRConnectionIdentifierKey: connId,
        WIRPageIdentifierKey: pageIdKey
      },
      __selector: '_rpc_forwardIndicateWebView:'
    };
  }

  launchApplication(opts = {}) {
    const {
      bundleId
    } = opts;
    return {
      __argument: {
        WIRApplicationBundleIdentifierKey: bundleId
      },
      __selector: '_rpc_requestApplicationLaunch:'
    };
  }

  getFullCommand(opts = {}) {
    const {
      method,
      params,
      connId,
      senderId,
      appIdKey,
      pageIdKey,
      targetId,
      id
    } = opts;
    let realMethod;
    let realParams;

    if (this.isTargetBased) {
      realMethod = 'Target.sendMessageToTarget';
      realParams = {
        targetId,
        message: JSON.stringify({
          id,
          method,
          params: { ...params,
            objectGroup: 'console',
            includeCommandLineAPI: true,
            doNotPauseOnExceptionsAndMuteConsole: false,
            emulateUserGesture: false,
            generatePreview: false,
            saveResult: false
          }
        })
      };
    } else {
      realMethod = method;
      realParams = { ...params,
        objectGroup: 'console',
        includeCommandLineAPI: true,
        doNotPauseOnExceptionsAndMuteConsole: false,
        emulateUserGesture: false
      };
    }

    const plist = {
      __argument: {
        WIRSocketDataKey: {
          method: realMethod,
          params: realParams
        },
        WIRConnectionIdentifierKey: connId,
        WIRSenderKey: senderId,
        WIRApplicationIdentifierKey: appIdKey,
        WIRPageIdentifierKey: pageIdKey
      },
      __selector: '_rpc_forwardSocketData:'
    };
    return _lodash.default.omitBy(plist, _lodash.default.isNil);
  }

  getMinimalCommand(opts = {}) {
    const {
      method,
      params,
      connId,
      senderId,
      appIdKey,
      pageIdKey,
      targetId,
      id
    } = opts;
    let realMethod = method;
    let realParams = params;

    if (this.isTargetBased) {
      realMethod = 'Target.sendMessageToTarget';
      realParams = {
        targetId,
        message: JSON.stringify({
          id,
          method,
          params
        })
      };
    }

    const plist = {
      __argument: {
        WIRSocketDataKey: {
          method: realMethod,
          params: realParams
        },
        WIRConnectionIdentifierKey: connId,
        WIRSenderKey: senderId,
        WIRApplicationIdentifierKey: appIdKey,
        WIRPageIdentifierKey: pageIdKey
      },
      __selector: '_rpc_forwardSocketData:'
    };
    return _lodash.default.omitBy(plist, _lodash.default.isNil);
  }

  getDirectCommand(opts = {}) {
    const {
      method,
      params,
      connId,
      senderId,
      appIdKey,
      pageIdKey,
      id
    } = opts;
    const plist = {
      __argument: {
        WIRSocketDataKey: {
          id,
          method,
          params
        },
        WIRConnectionIdentifierKey: connId,
        WIRSenderKey: senderId,
        WIRApplicationIdentifierKey: appIdKey,
        WIRPageIdentifierKey: pageIdKey
      },
      __selector: '_rpc_forwardSocketData:'
    };
    return _lodash.default.omitBy(plist, _lodash.default.isNil);
  }

  getRemoteCommand(command, opts) {
    const {
      id,
      connId,
      appIdKey,
      senderId,
      pageIdKey,
      targetId
    } = opts;
    let method, params;

    switch (command) {
      case 'setConnectionKey':
        return this.setConnectionKey({
          connId
        });

      case 'indicateWebView':
        return this.indicateWebView({
          connId,
          appIdKey,
          pageIdKey,
          enabled: opts.enabled
        });

      case 'connectToApp':
        return this.connectToApp({
          connId,
          appIdKey
        });

      case 'setSenderKey':
        return this.setSenderKey({
          connId,
          senderId,
          appIdKey,
          pageIdKey
        });

      case 'launchApplication':
        return this.launchApplication(opts);

      case 'ApplicationCache.enable':
        method = 'ApplicationCache.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'ApplicationCache.getFramesWithManifests':
        method = 'ApplicationCache.getFramesWithManifests';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Canvas.enable':
        method = 'Canvas.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Console.disable':
        method = 'Console.disable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Console.enable':
        method = 'Console.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Console.getLoggingChannels':
        method = 'Console.getLoggingChannels';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Console.setLoggingChannelLevel':
        method = 'Console.setLoggingChannelLevel';
        params = {
          source: opts.source,
          level: opts.level
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'CSS.enable':
        method = 'CSS.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Database.enable':
        method = 'Database.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Debugger.enable':
        method = 'Debugger.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Debugger.setAsyncStackTraceDepth':
        method = 'Debugger.setAsyncStackTraceDepth';
        params = {
          depth: opts.depth
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Debugger.setBreakpointsActive':
        method = 'Debugger.setBreakpointsActive';
        params = {
          active: opts.active
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Debugger.setPauseForInternalScripts':
        method = 'Debugger.setPauseForInternalScripts';
        params = {
          shouldPause: opts.shouldPause
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Debugger.setPauseOnAssertions':
        method = 'Debugger.setPauseOnAssertions';
        params = {
          enabled: opts.enabled
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Debugger.setPauseOnExceptions':
        method = 'Debugger.setPauseOnExceptions';
        params = {
          state: opts.state
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'DOM.getDocument':
        method = 'DOM.getDocument';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'DOMStorage.enable':
        method = 'DOMStorage.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Heap.enable':
        method = 'Heap.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Heap.gc':
        method = 'Heap.gc';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'IndexedDB.enable':
        method = 'IndexedDB.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Inspector.enable':
        method = 'Inspector.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Inspector.initialized':
        method = 'Inspector.initialized';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'LayerTree.enable':
        method = 'LayerTree.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Memory.enable':
        method = 'Memory.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Network.disable':
        method = 'Network.disable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Network.enable':
        method = 'Network.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Network.setResourceCachingDisabled':
        method = 'Network.setResourceCachingDisabled';
        params = {
          disabled: opts.disabled
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Page.deleteCookie':
        method = 'Page.deleteCookie';
        params = {
          cookieName: opts.cookieName,
          url: opts.url
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Page.enable':
        method = 'Page.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Page.getCookies':
        method = 'Page.getCookies';
        return this.getFullCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Page.getResourceTree':
        method = 'Page.getResourceTree';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Page.navigate':
        method = 'Page.navigate';
        params = {
          url: opts.url
        };
        return this.getFullCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Runtime.awaitPromise':
        method = 'Runtime.awaitPromise';
        params = {
          promiseObjectId: opts.promiseObjectId,
          returnByValue: true,
          generatePreview: true,
          saveResult: true
        };
        return this.getFullCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Runtime.callFunctionOn':
        method = 'Runtime.callFunctionOn';
        params = {
          objectId: opts.objId,
          functionDeclaration: opts.fn,
          arguments: opts.args,
          returnByValue: true
        };
        return this.getFullCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Runtime.enable':
        method = 'Runtime.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Runtime.evaluate':
        method = 'Runtime.evaluate';
        params = {
          expression: opts.command,
          returnByValue: _lodash.default.isBoolean(opts.returnByValue) ? opts.returnByValue : true,
          contextId: opts.contextId
        };
        return this.getFullCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Target.exists':
        method = 'Target.exists';
        return this.getDirectCommand({
          method,
          connId,
          senderId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Timeline.setAutoCaptureEnabled':
        method = 'Timeline.setAutoCaptureEnabled';
        params = {
          enabled: opts.enabled
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Timeline.setInstruments':
        method = 'Timeline.setInstruments';
        params = {
          instruments: ['Timeline', 'ScriptProfiler', 'CPU']
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Timeline.start':
        method = 'Timeline.start';
        return this.getFullCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Timeline.stop':
        method = 'Timeline.stop';
        return this.getFullCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Worker.enable':
        method = 'Worker.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      default:
        throw new Error(`Unknown command: '${command}'`);
    }
  }

}

exports.RemoteMessages = RemoteMessages;
var _default = RemoteMessages;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9ycGMvcmVtb3RlLW1lc3NhZ2VzLmpzIl0sIm5hbWVzIjpbIlJlbW90ZU1lc3NhZ2VzIiwiY29uc3RydWN0b3IiLCJpc1RhcmdldEJhc2VkIiwiX2lzVGFyZ2V0QmFzZWQiLCJzZXRDb25uZWN0aW9uS2V5Iiwib3B0cyIsImNvbm5JZCIsIl9fYXJndW1lbnQiLCJXSVJDb25uZWN0aW9uSWRlbnRpZmllcktleSIsIl9fc2VsZWN0b3IiLCJjb25uZWN0VG9BcHAiLCJhcHBJZEtleSIsIldJUkFwcGxpY2F0aW9uSWRlbnRpZmllcktleSIsInNldFNlbmRlcktleSIsInNlbmRlcklkIiwicGFnZUlkS2V5IiwiV0lSU2VuZGVyS2V5IiwiV0lSUGFnZUlkZW50aWZpZXJLZXkiLCJXSVJBdXRvbWF0aWNhbGx5UGF1c2UiLCJpbmRpY2F0ZVdlYlZpZXciLCJlbmFibGVkIiwiV0lSSW5kaWNhdGVFbmFibGVkS2V5IiwiXyIsImlzTmlsIiwibGF1bmNoQXBwbGljYXRpb24iLCJidW5kbGVJZCIsIldJUkFwcGxpY2F0aW9uQnVuZGxlSWRlbnRpZmllcktleSIsImdldEZ1bGxDb21tYW5kIiwibWV0aG9kIiwicGFyYW1zIiwidGFyZ2V0SWQiLCJpZCIsInJlYWxNZXRob2QiLCJyZWFsUGFyYW1zIiwibWVzc2FnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvYmplY3RHcm91cCIsImluY2x1ZGVDb21tYW5kTGluZUFQSSIsImRvTm90UGF1c2VPbkV4Y2VwdGlvbnNBbmRNdXRlQ29uc29sZSIsImVtdWxhdGVVc2VyR2VzdHVyZSIsImdlbmVyYXRlUHJldmlldyIsInNhdmVSZXN1bHQiLCJwbGlzdCIsIldJUlNvY2tldERhdGFLZXkiLCJvbWl0QnkiLCJnZXRNaW5pbWFsQ29tbWFuZCIsImdldERpcmVjdENvbW1hbmQiLCJnZXRSZW1vdGVDb21tYW5kIiwiY29tbWFuZCIsInNvdXJjZSIsImxldmVsIiwiZGVwdGgiLCJhY3RpdmUiLCJzaG91bGRQYXVzZSIsInN0YXRlIiwiZGlzYWJsZWQiLCJjb29raWVOYW1lIiwidXJsIiwicHJvbWlzZU9iamVjdElkIiwicmV0dXJuQnlWYWx1ZSIsIm9iamVjdElkIiwib2JqSWQiLCJmdW5jdGlvbkRlY2xhcmF0aW9uIiwiZm4iLCJhcmd1bWVudHMiLCJhcmdzIiwiZXhwcmVzc2lvbiIsImlzQm9vbGVhbiIsImNvbnRleHRJZCIsImluc3RydW1lbnRzIiwiRXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBR0EsTUFBTUEsY0FBTixDQUFxQjtBQUNuQkMsRUFBQUEsV0FBVyxDQUFFQyxhQUFhLEdBQUcsS0FBbEIsRUFBeUI7QUFDbEMsU0FBS0EsYUFBTCxHQUFxQkEsYUFBckI7QUFDRDs7QUFFRCxNQUFJQSxhQUFKLENBQW1CQSxhQUFuQixFQUFrQztBQUNoQyxTQUFLQyxjQUFMLEdBQXNCRCxhQUF0QjtBQUNEOztBQUVELE1BQUlBLGFBQUosR0FBcUI7QUFDbkIsV0FBTyxLQUFLQyxjQUFaO0FBQ0Q7O0FBTURDLEVBQUFBLGdCQUFnQixDQUFFQyxJQUFJLEdBQUcsRUFBVCxFQUFhO0FBQzNCLFVBQU07QUFBQ0MsTUFBQUE7QUFBRCxRQUFXRCxJQUFqQjtBQUNBLFdBQU87QUFDTEUsTUFBQUEsVUFBVSxFQUFFO0FBQ1ZDLFFBQUFBLDBCQUEwQixFQUFFRjtBQURsQixPQURQO0FBSUxHLE1BQUFBLFVBQVUsRUFBRTtBQUpQLEtBQVA7QUFNRDs7QUFFREMsRUFBQUEsWUFBWSxDQUFFTCxJQUFJLEdBQUcsRUFBVCxFQUFhO0FBQ3ZCLFVBQU07QUFBQ0MsTUFBQUEsTUFBRDtBQUFTSyxNQUFBQTtBQUFULFFBQXFCTixJQUEzQjtBQUNBLFdBQU87QUFDTEUsTUFBQUEsVUFBVSxFQUFFO0FBQ1ZDLFFBQUFBLDBCQUEwQixFQUFFRixNQURsQjtBQUVWTSxRQUFBQSwyQkFBMkIsRUFBRUQ7QUFGbkIsT0FEUDtBQUtMRixNQUFBQSxVQUFVLEVBQUU7QUFMUCxLQUFQO0FBT0Q7O0FBRURJLEVBQUFBLFlBQVksQ0FBRVIsSUFBSSxH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O0FBQ0YsV0FBSyxnQkFBTDtBQUNFSCxRQUFBQSxNQUFNLEdBQUcsZ0JBQVQ7QUFDQSxlQUFPLEtBQUtELGNBQUwsQ0FBb0I7QUFBQ0MsVUFBQUEsTUFBRDtBQUFTdEIsVUFBQUEsTUFBVDtBQUFpQlEsVUFBQUEsUUFBakI7QUFBMkJnQixVQUFBQSxRQUEzQjtBQUFxQ25CLFVBQUFBLFFBQXJDO0FBQStDSSxVQUFBQSxTQUEvQztBQUEwRGdCLFVBQUFBO0FBQTFELFNBQXBCLENBQVA7O0FBQ0YsV0FBSyxlQUFMO0FBQ0VILFFBQUFBLE1BQU0sR0FBRyxlQUFUO0FBQ0EsZUFBTyxLQUFLRCxjQUFMLENBQW9CO0FBQUNDLFVBQUFBLE1BQUQ7QUFBU3RCLFVBQUFBLE1BQVQ7QUFBaUJRLFVBQUFBLFFBQWpCO0FBQTJCZ0IsVUFBQUEsUUFBM0I7QUFBcUNuQixVQUFBQSxRQUFyQztBQUErQ0ksVUFBQUEsU0FBL0M7QUFBMERnQixVQUFBQTtBQUExRCxTQUFwQixDQUFQOztBQUlGLFdBQUssZUFBTDtBQUNFSCxRQUFBQSxNQUFNLEdBQUcsZUFBVDtBQUNBLGVBQU8sS0FBS2tCLGlCQUFMLENBQXVCO0FBQUNsQixVQUFBQSxNQUFEO0FBQVN0QixVQUFBQSxNQUFUO0FBQWlCUSxVQUFBQSxRQUFqQjtBQUEyQmdCLFVBQUFBLFFBQTNCO0FBQXFDbkIsVUFBQUEsUUFBckM7QUFBK0NJLFVBQUFBLFNBQS9DO0FBQTBEZ0IsVUFBQUE7QUFBMUQsU0FBdkIsQ0FBUDs7QUFHRjtBQUNFLGNBQU0sSUFBSXdDLEtBQUosQ0FBVyxxQkFBb0J0QixPQUFRLEdBQXZDLENBQU47QUE3UEo7QUErUEQ7O0FBbmRrQjs7O2VBdWROakQsYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5cblxuY2xhc3MgUmVtb3RlTWVzc2FnZXMge1xuICBjb25zdHJ1Y3RvciAoaXNUYXJnZXRCYXNlZCA9IGZhbHNlKSB7XG4gICAgdGhpcy5pc1RhcmdldEJhc2VkID0gaXNUYXJnZXRCYXNlZDtcbiAgfVxuXG4gIHNldCBpc1RhcmdldEJhc2VkIChpc1RhcmdldEJhc2VkKSB7XG4gICAgdGhpcy5faXNUYXJnZXRCYXNlZCA9IGlzVGFyZ2V0QmFzZWQ7XG4gIH1cblxuICBnZXQgaXNUYXJnZXRCYXNlZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzVGFyZ2V0QmFzZWQ7XG4gIH1cblxuICAvKlxuICAgKiBDb25uZWN0aW9uIGZ1bmN0aW9uc1xuICAgKi9cblxuICBzZXRDb25uZWN0aW9uS2V5IChvcHRzID0ge30pIHtcbiAgICBjb25zdCB7Y29ubklkfSA9IG9wdHM7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fYXJndW1lbnQ6IHtcbiAgICAgICAgV0lSQ29ubmVjdGlvbklkZW50aWZpZXJLZXk6IGNvbm5JZFxuICAgICAgfSxcbiAgICAgIF9fc2VsZWN0b3I6ICdfcnBjX3JlcG9ydElkZW50aWZpZXI6J1xuICAgIH07XG4gIH1cblxuICBjb25uZWN0VG9BcHAgKG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHtjb25uSWQsIGFwcElkS2V5fSA9IG9wdHM7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fYXJndW1lbnQ6IHtcbiAgICAgICAgV0lSQ29ubmVjdGlvbklkZW50aWZpZXJLZXk6IGNvbm5JZCxcbiAgICAgICAgV0lSQXBwbGljYXRpb25JZGVudGlmaWVyS2V5OiBhcHBJZEtleVxuICAgICAgfSxcbiAgICAgIF9fc2VsZWN0b3I6ICdfcnBjX2ZvcndhcmRHZXRMaXN0aW5nOidcbiAgICB9O1xuICB9XG5cbiAgc2V0U2VuZGVyS2V5IChvcHRzID0ge30pIHtcbiAgICBjb25zdCB7Y29ubklkLCBzZW5kZXJJZCwgYXBwSWRLZXksIHBhZ2VJZEtleX0gPSBvcHRzO1xuICAgIHJldHVybiB7XG4gICAgICBfX2FyZ3VtZW50OiB7XG4gICAgICAgIFdJUkFwcGxpY2F0aW9uSWRlbnRpZmllcktleTogYXBwSWRLZXksXG4gICAgICAgIFdJUkNvbm5lY3Rpb25JZGVudGlmaWVyS2V5OiBjb25uSWQsXG4gICAgICAgIFdJUlNlbmRlcktleTogc2VuZGVySWQsXG4gICAgICAgIFdJUlBhZ2VJZGVudGlmaWVyS2V5OiBwYWdlSWRLZXksXG4gICAgICAgIFdJUkF1dG9tYXRpY2FsbHlQYXVzZTogZmFsc2VcbiAgICAgIH0sXG4gICAgICBfX3NlbGVjdG9yOiAnX3JwY19mb3J3YXJkU29ja2V0U2V0dXA6J1xuICAgIH07XG4gIH1cblxuICBpbmRpY2F0ZVdlYlZpZXcgKG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbm5JZCxcbiAgICAgIGFwcElkS2V5LFxuICAgICAgcGFnZUlkS2V5LFxuICAgICAgZW5hYmxlZCxcbiAgICB9ID0gb3B0cztcbiAgICByZXR1cm4ge1xuICAgICAgX19hcmd1bWVudDoge1xuICAgICAgICBXSVJBcHBsaWNhdGlvbklkZW50aWZpZXJLZXk6IGFwcElkS2V5LFxuICAgICAgICBXSVJJbmRpY2F0ZUVuYWJsZWRLZXk6IF8uaXNOaWwoZW5hYmxlZCkgPyB0cnVlIDogZW5hYmxlZCxcbiAgICAgICAgV0lSQ29ubmVjdGlvbklkZW50aWZpZXJLZXk6IGNvbm5JZCxcbiAgICAgICAgV0lSUGFnZUlkZW50aWZpZXJLZXk6IHBhZ2VJZEtleVxuICAgICAgfSxcbiAgICAgIF9fc2VsZWN0b3I6ICdfcnBjX2ZvcndhcmRJbmRpY2F0ZVdlYlZpZXc6J1xuICAgIH07XG4gIH1cblxuICBsYXVuY2hBcHBsaWNhdGlvbiAob3B0cyA9IHt9KSB7XG4gICAgY29uc3Qge2J1bmRsZUlkfSA9IG9wdHM7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fYXJndW1lbnQ6IHtcbiAgICAgICAgV0lSQXBwbGljYXRpb25CdW5kbGVJZGVudGlmaWVyS2V5OiBidW5kbGVJZFxuICAgICAgfSxcbiAgICAgIF9fc2VsZWN0b3I6ICdfcnBjX3JlcXVlc3RBcHBsaWNhdGlvbkxhdW5jaDonXG4gICAgfTtcbiAgfVxuXG4gIGdldEZ1bGxDb21tYW5kIChvcHRzID0ge30pIHtcbiAgICBjb25zdCB7XG4gICAgICBtZXRob2QsXG4gICAgICBwYXJhbXMsXG4gICAgICBjb25uSWQsXG4gICAgICBzZW5kZXJJZCxcbiAgICAgIGFwcElkS2V5LFxuICAgICAgcGFnZUlkS2V5LFxuICAgICAgdGFyZ2V0SWQsXG4gICAgICBpZCxcbiAgICB9ID0gb3B0cztcblxuICAgIC8qIFRoZSBXZWIgSW5zcGVjdG9yIGhhcyBhIG51bWJlciBvZiBwYXJhbWV0ZXJzIHRoYXQgY2FuIGJlIHBhc3NlZCBpbiwgYXNcbiAgICAgKiBzZWVuIHdoZW4gZHVtcGluZyB3aGF0IFNhZmFyaSBpcyBkb2luZyB3aGVuIGNvbW11bmljYXRpbmcgd2l0aCBpdC4gTW9zdFxuICAgICAqIGFyZSBrZXB0IGFzIHRoZXkgYXJlIHNldCBmb3IgU2FmYXJpLiBUaGUgZXhjZXB0aW9uIGlzIGBlbXVsYXRlVXNlckdlc3R1cmVgXG4gICAgICogd2hpY2gsIG9uIGlPUyAxMyssIGJyZWFrcyBwb3B1cCBibG9ja2luZyAoaS5lLiwgZXZlbiB3aXRoIHRoZSBwb3B1cFxuICAgICAqIGJsb2NraW5nIHNldHRpbmcgb24sIG5ldyB3aW5kb3dzIGFyZSBvcGVuYWJsZSBib3RoIGZyb20gbGlua3MgYW5kIGZyb21cbiAgICAgKiBKYXZhU2NyaXB0KS5cbiAgICAgKi9cblxuICAgIGxldCByZWFsTWV0aG9kO1xuICAgIGxldCByZWFsUGFyYW1zO1xuICAgIGlmICh0aGlzLmlzVGFyZ2V0QmFzZWQpIHtcbiAgICAgIHJlYWxNZXRob2QgPSAnVGFyZ2V0LnNlbmRNZXNzYWdlVG9UYXJnZXQnO1xuICAgICAgcmVhbFBhcmFtcyA9IHtcbiAgICAgICAgdGFyZ2V0SWQsXG4gICAgICAgIG1lc3NhZ2U6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICBvYmplY3RHcm91cDogJ2NvbnNvbGUnLFxuICAgICAgICAgICAgaW5jbHVkZUNvbW1hbmRMaW5lQVBJOiB0cnVlLFxuICAgICAgICAgICAgZG9Ob3RQYXVzZU9uRXhjZXB0aW9uc0FuZE11dGVDb25zb2xlOiBmYWxzZSxcbiAgICAgICAgICAgIGVtdWxhdGVVc2VyR2VzdHVyZTogZmFsc2UsXG4gICAgICAgICAgICBnZW5lcmF0ZVByZXZpZXc6IGZhbHNlLFxuICAgICAgICAgICAgc2F2ZVJlc3VsdDogZmFsc2UsXG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlYWxNZXRob2QgPSBtZXRob2Q7XG4gICAgICByZWFsUGFyYW1zID0ge1xuICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgIG9iamVjdEdyb3VwOiAnY29uc29sZScsXG4gICAgICAgIGluY2x1ZGVDb21tYW5kTGluZUFQSTogdHJ1ZSxcbiAgICAgICAgZG9Ob3RQYXVzZU9uRXhjZXB0aW9uc0FuZE11dGVDb25zb2xlOiBmYWxzZSxcbiAgICAgICAgZW11bGF0ZVVzZXJHZXN0dXJlOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgcGxpc3QgPSB7XG4gICAgICBfX2FyZ3VtZW50OiB7XG4gICAgICAgIFdJUlNvY2tldERhdGFLZXk6IHtcbiAgICAgICAgICBtZXRob2Q6IHJlYWxNZXRob2QsXG4gICAgICAgICAgcGFyYW1zOiByZWFsUGFyYW1zLFxuICAgICAgICB9LFxuICAgICAgICBXSVJDb25uZWN0aW9uSWRlbnRpZmllcktleTogY29ubklkLFxuICAgICAgICBXSVJTZW5kZXJLZXk6IHNlbmRlcklkLFxuICAgICAgICBXSVJBcHBsaWNhdGlvbklkZW50aWZpZXJLZXk6IGFwcElkS2V5LFxuICAgICAgICBXSVJQYWdlSWRlbnRpZmllcktleTogcGFnZUlkS2V5LFxuICAgICAgfSxcbiAgICAgIF9fc2VsZWN0b3I6ICdfcnBjX2ZvcndhcmRTb2NrZXREYXRhOicsXG4gICAgfTtcbiAgICByZXR1cm4gXy5vbWl0QnkocGxpc3QsIF8uaXNOaWwpO1xuICB9XG5cbiAgZ2V0TWluaW1hbENvbW1hbmQgKG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHttZXRob2QsIHBhcmFtcywgY29ubklkLCBzZW5kZXJJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgdGFyZ2V0SWQsIGlkfSA9IG9wdHM7XG5cbiAgICBsZXQgcmVhbE1ldGhvZCA9IG1ldGhvZDtcbiAgICBsZXQgcmVhbFBhcmFtcyA9IHBhcmFtcztcbiAgICBpZiAodGhpcy5pc1RhcmdldEJhc2VkKSB7XG4gICAgICByZWFsTWV0aG9kID0gJ1RhcmdldC5zZW5kTWVzc2FnZVRvVGFyZ2V0JztcbiAgICAgIHJlYWxQYXJhbXMgPSB7XG4gICAgICAgIHRhcmdldElkLFxuICAgICAgICBtZXNzYWdlOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgfSksXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHBsaXN0ID0ge1xuICAgICAgX19hcmd1bWVudDoge1xuICAgICAgICBXSVJTb2NrZXREYXRhS2V5OiB7XG4gICAgICAgICAgbWV0aG9kOiByZWFsTWV0aG9kLFxuICAgICAgICAgIHBhcmFtczogcmVhbFBhcmFtcyxcbiAgICAgICAgfSxcbiAgICAgICAgV0lSQ29ubmVjdGlvbklkZW50aWZpZXJLZXk6IGNvbm5JZCxcbiAgICAgICAgV0lSU2VuZGVyS2V5OiBzZW5kZXJJZCxcbiAgICAgICAgV0lSQXBwbGljYXRpb25JZGVudGlmaWVyS2V5OiBhcHBJZEtleSxcbiAgICAgICAgV0lSUGFnZUlkZW50aWZpZXJLZXk6IHBhZ2VJZEtleSxcbiAgICAgIH0sXG4gICAgICBfX3NlbGVjdG9yOiAnX3JwY19mb3J3YXJkU29ja2V0RGF0YTonXG4gICAgfTtcbiAgICByZXR1cm4gXy5vbWl0QnkocGxpc3QsIF8uaXNOaWwpO1xuICB9XG5cbiAgZ2V0RGlyZWN0Q29tbWFuZCAob3B0cyA9IHt9KSB7XG4gICAgY29uc3Qge21ldGhvZCwgcGFyYW1zLCBjb25uSWQsIHNlbmRlcklkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0gPSBvcHRzO1xuXG4gICAgY29uc3QgcGxpc3QgPSB7XG4gICAgICBfX2FyZ3VtZW50OiB7XG4gICAgICAgIFdJUlNvY2tldERhdGFLZXk6IHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgcGFyYW1zLFxuICAgICAgICB9LFxuICAgICAgICBXSVJDb25uZWN0aW9uSWRlbnRpZmllcktleTogY29ubklkLFxuICAgICAgICBXSVJTZW5kZXJLZXk6IHNlbmRlcklkLFxuICAgICAgICBXSVJBcHBsaWNhdGlvbklkZW50aWZpZXJLZXk6IGFwcElkS2V5LFxuICAgICAgICBXSVJQYWdlSWRlbnRpZmllcktleTogcGFnZUlkS2V5LFxuICAgICAgfSxcbiAgICAgIF9fc2VsZWN0b3I6ICdfcnBjX2ZvcndhcmRTb2NrZXREYXRhOidcbiAgICB9O1xuICAgIHJldHVybiBfLm9taXRCeShwbGlzdCwgXy5pc05pbCk7XG4gIH1cblxuICBnZXRSZW1vdGVDb21tYW5kIChjb21tYW5kLCBvcHRzKSB7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICBjb25uSWQsXG4gICAgICBhcHBJZEtleSxcbiAgICAgIHNlbmRlcklkLFxuICAgICAgcGFnZUlkS2V5LFxuICAgICAgdGFyZ2V0SWQsXG4gICAgfSA9IG9wdHM7XG5cbiAgICBsZXQgbWV0aG9kLCBwYXJhbXM7XG5cbiAgICBzd2l0Y2ggKGNvbW1hbmQpIHtcbiAgICAgIC8qIEJBU0lDIENPTU1BTkRTICovXG4gICAgICBjYXNlICdzZXRDb25uZWN0aW9uS2V5JzpcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0Q29ubmVjdGlvbktleSh7Y29ubklkfSk7XG4gICAgICBjYXNlICdpbmRpY2F0ZVdlYlZpZXcnOlxuICAgICAgICByZXR1cm4gdGhpcy5pbmRpY2F0ZVdlYlZpZXcoe2Nvbm5JZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgZW5hYmxlZDogb3B0cy5lbmFibGVkfSk7XG4gICAgICBjYXNlICdjb25uZWN0VG9BcHAnOlxuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0VG9BcHAoe2Nvbm5JZCwgYXBwSWRLZXl9KTtcbiAgICAgIGNhc2UgJ3NldFNlbmRlcktleSc6XG4gICAgICAgIHJldHVybiB0aGlzLnNldFNlbmRlcktleSh7Y29ubklkLCBzZW5kZXJJZCwgYXBwSWRLZXksIHBhZ2VJZEtleX0pO1xuICAgICAgY2FzZSAnbGF1bmNoQXBwbGljYXRpb24nOlxuICAgICAgICByZXR1cm4gdGhpcy5sYXVuY2hBcHBsaWNhdGlvbihvcHRzKTtcblxuXG4gICAgICAvKiBBUFBMSUNBVElPTkNBQ0hFIERPTUFJTiAqL1xuICAgICAgY2FzZSAnQXBwbGljYXRpb25DYWNoZS5lbmFibGUnOlxuICAgICAgICBtZXRob2QgPSAnQXBwbGljYXRpb25DYWNoZS5lbmFibGUnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ0FwcGxpY2F0aW9uQ2FjaGUuZ2V0RnJhbWVzV2l0aE1hbmlmZXN0cyc6XG4gICAgICAgIG1ldGhvZCA9ICdBcHBsaWNhdGlvbkNhY2hlLmdldEZyYW1lc1dpdGhNYW5pZmVzdHMnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcblxuXG4gICAgICAvKiBDQU5WQVMgRE9NQUlOICovXG4gICAgICBjYXNlICdDYW52YXMuZW5hYmxlJzpcbiAgICAgICAgbWV0aG9kID0gJ0NhbnZhcy5lbmFibGUnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcblxuXG4gICAgICAvKiBDT05TT0xFIERPTUFJTiAqL1xuICAgICAgY2FzZSAnQ29uc29sZS5kaXNhYmxlJzpcbiAgICAgICAgbWV0aG9kID0gJ0NvbnNvbGUuZGlzYWJsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnQ29uc29sZS5lbmFibGUnOlxuICAgICAgICBtZXRob2QgPSAnQ29uc29sZS5lbmFibGUnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ0NvbnNvbGUuZ2V0TG9nZ2luZ0NoYW5uZWxzJzpcbiAgICAgICAgbWV0aG9kID0gJ0NvbnNvbGUuZ2V0TG9nZ2luZ0NoYW5uZWxzJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdDb25zb2xlLnNldExvZ2dpbmdDaGFubmVsTGV2ZWwnOlxuICAgICAgICBtZXRob2QgPSAnQ29uc29sZS5zZXRMb2dnaW5nQ2hhbm5lbExldmVsJztcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIHNvdXJjZTogb3B0cy5zb3VyY2UsXG4gICAgICAgICAgbGV2ZWw6IG9wdHMubGV2ZWwsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIHBhcmFtcywgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG5cblxuICAgICAgLyogQ1NTIERPTUFJTiAqL1xuICAgICAgY2FzZSAnQ1NTLmVuYWJsZSc6XG4gICAgICAgIG1ldGhvZCA9ICdDU1MuZW5hYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG5cblxuICAgICAgLyogREFUQUJBU0UgRE9NQUlOICovXG4gICAgICBjYXNlICdEYXRhYmFzZS5lbmFibGUnOlxuICAgICAgICBtZXRob2QgPSAnRGF0YWJhc2UuZW5hYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG5cblxuICAgICAgLyogREVCVUdHRVIgRE9NQUlOICovXG4gICAgICBjYXNlICdEZWJ1Z2dlci5lbmFibGUnOlxuICAgICAgICBtZXRob2QgPSAnRGVidWdnZXIuZW5hYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdEZWJ1Z2dlci5zZXRBc3luY1N0YWNrVHJhY2VEZXB0aCc6XG4gICAgICAgIG1ldGhvZCA9ICdEZWJ1Z2dlci5zZXRBc3luY1N0YWNrVHJhY2VEZXB0aCc7XG4gICAgICAgIHBhcmFtcyA9IHtcbiAgICAgICAgICBkZXB0aDogb3B0cy5kZXB0aCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgcGFyYW1zLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ0RlYnVnZ2VyLnNldEJyZWFrcG9pbnRzQWN0aXZlJzpcbiAgICAgICAgbWV0aG9kID0gJ0RlYnVnZ2VyLnNldEJyZWFrcG9pbnRzQWN0aXZlJztcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIGFjdGl2ZTogb3B0cy5hY3RpdmUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIHBhcmFtcywgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdEZWJ1Z2dlci5zZXRQYXVzZUZvckludGVybmFsU2NyaXB0cyc6XG4gICAgICAgIG1ldGhvZCA9ICdEZWJ1Z2dlci5zZXRQYXVzZUZvckludGVybmFsU2NyaXB0cyc7XG4gICAgICAgIHBhcmFtcyA9IHtcbiAgICAgICAgICBzaG91bGRQYXVzZTogb3B0cy5zaG91bGRQYXVzZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgcGFyYW1zLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ0RlYnVnZ2VyLnNldFBhdXNlT25Bc3NlcnRpb25zJzpcbiAgICAgICAgbWV0aG9kID0gJ0RlYnVnZ2VyLnNldFBhdXNlT25Bc3NlcnRpb25zJztcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIGVuYWJsZWQ6IG9wdHMuZW5hYmxlZCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgcGFyYW1zLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ0RlYnVnZ2VyLnNldFBhdXNlT25FeGNlcHRpb25zJzpcbiAgICAgICAgbWV0aG9kID0gJ0RlYnVnZ2VyLnNldFBhdXNlT25FeGNlcHRpb25zJztcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIHN0YXRlOiBvcHRzLnN0YXRlLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBwYXJhbXMsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuXG5cbiAgICAgIC8qIERPTSBET01BSU4gKi9cbiAgICAgIGNhc2UgJ0RPTS5nZXREb2N1bWVudCc6XG4gICAgICAgIG1ldGhvZCA9ICdET00uZ2V0RG9jdW1lbnQnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcblxuXG4gICAgICAvKiBET01TVE9SQUdFIERPTUFJTiAqL1xuICAgICAgY2FzZSAnRE9NU3RvcmFnZS5lbmFibGUnOlxuICAgICAgICBtZXRob2QgPSAnRE9NU3RvcmFnZS5lbmFibGUnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcblxuXG4gICAgICAvKiBIRUFQIERPTUFJTiAqL1xuICAgICAgY2FzZSAnSGVhcC5lbmFibGUnOlxuICAgICAgICBtZXRob2QgPSAnSGVhcC5lbmFibGUnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ0hlYXAuZ2MnOlxuICAgICAgICBtZXRob2QgPSAnSGVhcC5nYyc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuXG5cbiAgICAgIC8qIElOREVYRUREQiBET01BSU4gKi9cbiAgICAgIGNhc2UgJ0luZGV4ZWREQi5lbmFibGUnOlxuICAgICAgICBtZXRob2QgPSAnSW5kZXhlZERCLmVuYWJsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuXG5cbiAgICAgIC8qIElOU1BFQ1RPUiBET01BSU4gKi9cbiAgICAgIGNhc2UgJ0luc3BlY3Rvci5lbmFibGUnOlxuICAgICAgICBtZXRob2QgPSAnSW5zcGVjdG9yLmVuYWJsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnSW5zcGVjdG9yLmluaXRpYWxpemVkJzpcbiAgICAgICAgbWV0aG9kID0gJ0luc3BlY3Rvci5pbml0aWFsaXplZCc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuXG5cbiAgICAgIC8qIExBWUVSVFJFRSBET01BSU4gKi9cbiAgICAgIGNhc2UgJ0xheWVyVHJlZS5lbmFibGUnOlxuICAgICAgICBtZXRob2QgPSAnTGF5ZXJUcmVlLmVuYWJsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuXG5cbiAgICAgIC8qIE1FTU9SWSBET01BSU4gKi9cbiAgICAgIGNhc2UgJ01lbW9yeS5lbmFibGUnOlxuICAgICAgICBtZXRob2QgPSAnTWVtb3J5LmVuYWJsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuXG5cbiAgICAgIC8qIE5FVFdPUksgRE9NQUlOICovXG4gICAgICBjYXNlICdOZXR3b3JrLmRpc2FibGUnOlxuICAgICAgICBtZXRob2QgPSAnTmV0d29yay5kaXNhYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdOZXR3b3JrLmVuYWJsZSc6XG4gICAgICAgIG1ldGhvZCA9ICdOZXR3b3JrLmVuYWJsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnTmV0d29yay5zZXRSZXNvdXJjZUNhY2hpbmdEaXNhYmxlZCc6XG4gICAgICAgIG1ldGhvZCA9ICdOZXR3b3JrLnNldFJlc291cmNlQ2FjaGluZ0Rpc2FibGVkJztcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIGRpc2FibGVkOiBvcHRzLmRpc2FibGVkLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBwYXJhbXMsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuXG4gICAgICAvKiBQQUdFIERPTUFJTiAqL1xuICAgICAgY2FzZSAnUGFnZS5kZWxldGVDb29raWUnOlxuICAgICAgICBtZXRob2QgPSAnUGFnZS5kZWxldGVDb29raWUnO1xuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgY29va2llTmFtZTogb3B0cy5jb29raWVOYW1lLFxuICAgICAgICAgIHVybDogb3B0cy51cmwsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIHBhcmFtcywgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdQYWdlLmVuYWJsZSc6XG4gICAgICAgIG1ldGhvZCA9ICdQYWdlLmVuYWJsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnUGFnZS5nZXRDb29raWVzJzpcbiAgICAgICAgbWV0aG9kID0gJ1BhZ2UuZ2V0Q29va2llcyc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZ1bGxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnUGFnZS5nZXRSZXNvdXJjZVRyZWUnOlxuICAgICAgICBtZXRob2QgPSAnUGFnZS5nZXRSZXNvdXJjZVRyZWUnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ1BhZ2UubmF2aWdhdGUnOlxuICAgICAgICBtZXRob2QgPSAnUGFnZS5uYXZpZ2F0ZSc7XG4gICAgICAgIHBhcmFtcyA9IHtcbiAgICAgICAgICB1cmw6IG9wdHMudXJsLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRGdWxsQ29tbWFuZCh7bWV0aG9kLCBwYXJhbXMsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuXG5cbiAgICAgIC8qIFJVTlRJTUUgRE9NQUlOICovXG4gICAgICBjYXNlICdSdW50aW1lLmF3YWl0UHJvbWlzZSc6XG4gICAgICAgIG1ldGhvZCA9ICdSdW50aW1lLmF3YWl0UHJvbWlzZSc7XG4gICAgICAgIHBhcmFtcyA9IHtcbiAgICAgICAgICBwcm9taXNlT2JqZWN0SWQ6IG9wdHMucHJvbWlzZU9iamVjdElkLFxuICAgICAgICAgIHJldHVybkJ5VmFsdWU6IHRydWUsXG4gICAgICAgICAgZ2VuZXJhdGVQcmV2aWV3OiB0cnVlLFxuICAgICAgICAgIHNhdmVSZXN1bHQ6IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZ1bGxDb21tYW5kKHttZXRob2QsIHBhcmFtcywgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdSdW50aW1lLmNhbGxGdW5jdGlvbk9uJzpcbiAgICAgICAgbWV0aG9kID0gJ1J1bnRpbWUuY2FsbEZ1bmN0aW9uT24nO1xuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgb2JqZWN0SWQ6IG9wdHMub2JqSWQsXG4gICAgICAgICAgZnVuY3Rpb25EZWNsYXJhdGlvbjogb3B0cy5mbixcbiAgICAgICAgICBhcmd1bWVudHM6IG9wdHMuYXJncyxcbiAgICAgICAgICByZXR1cm5CeVZhbHVlOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRGdWxsQ29tbWFuZCh7bWV0aG9kLCBwYXJhbXMsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnUnVudGltZS5lbmFibGUnOlxuICAgICAgICBtZXRob2QgPSAnUnVudGltZS5lbmFibGUnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ1J1bnRpbWUuZXZhbHVhdGUnOlxuICAgICAgICBtZXRob2QgPSAnUnVudGltZS5ldmFsdWF0ZSc7XG4gICAgICAgIHBhcmFtcyA9IHtcbiAgICAgICAgICBleHByZXNzaW9uOiBvcHRzLmNvbW1hbmQsXG4gICAgICAgICAgcmV0dXJuQnlWYWx1ZTogXy5pc0Jvb2xlYW4ob3B0cy5yZXR1cm5CeVZhbHVlKSA/IG9wdHMucmV0dXJuQnlWYWx1ZSA6IHRydWUsXG4gICAgICAgICAgY29udGV4dElkOiBvcHRzLmNvbnRleHRJZCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RnVsbENvbW1hbmQoe21ldGhvZCwgcGFyYW1zLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcblxuXG4gICAgICAvKiBUQVJHRVQgRE9NQUlOICovXG4gICAgICBjYXNlICdUYXJnZXQuZXhpc3RzJzpcbiAgICAgICAgbWV0aG9kID0gJ1RhcmdldC5leGlzdHMnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREaXJlY3RDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG5cblxuICAgICAgLyogVElNRUxJTkUgRE9NQUlOICovXG4gICAgICBjYXNlICdUaW1lbGluZS5zZXRBdXRvQ2FwdHVyZUVuYWJsZWQnOlxuICAgICAgICBtZXRob2QgPSAnVGltZWxpbmUuc2V0QXV0b0NhcHR1cmVFbmFibGVkJztcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIGVuYWJsZWQ6IG9wdHMuZW5hYmxlZCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgcGFyYW1zLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ1RpbWVsaW5lLnNldEluc3RydW1lbnRzJzpcbiAgICAgICAgbWV0aG9kID0gJ1RpbWVsaW5lLnNldEluc3RydW1lbnRzJztcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIGluc3RydW1lbnRzOiBbXG4gICAgICAgICAgICAnVGltZWxpbmUnLFxuICAgICAgICAgICAgJ1NjcmlwdFByb2ZpbGVyJyxcbiAgICAgICAgICAgICdDUFUnLFxuICAgICAgICAgIF0sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIHBhcmFtcywgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdUaW1lbGluZS5zdGFydCc6XG4gICAgICAgIG1ldGhvZCA9ICdUaW1lbGluZS5zdGFydCc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZ1bGxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnVGltZWxpbmUuc3RvcCc6XG4gICAgICAgIG1ldGhvZCA9ICdUaW1lbGluZS5zdG9wJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RnVsbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG5cblxuICAgICAgLyogV09SS0VSIERPTUFJTiAqL1xuICAgICAgY2FzZSAnV29ya2VyLmVuYWJsZSc6XG4gICAgICAgIG1ldGhvZCA9ICdXb3JrZXIuZW5hYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG5cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGNvbW1hbmQ6ICcke2NvbW1hbmR9J2ApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBSZW1vdGVNZXNzYWdlcyB9O1xuZXhwb3J0IGRlZmF1bHQgUmVtb3RlTWVzc2FnZXM7XG4iXSwiZmlsZSI6ImxpYi9ycGMvcmVtb3RlLW1lc3NhZ2VzLmpzIiwic291cmNlUm9vdCI6Ii4uLy4uLy4uIn0=
